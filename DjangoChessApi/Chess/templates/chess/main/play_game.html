{% extends 'chess/header.html' %}
{% load static %}
{% load get_item %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/board.css' %}">
  <link rel="stylesheet" href="{% static 'css/play_game.css' %}">
{% endblock %}

{% block body %}
  <h1>Would you like to play a Game?</h1>
  <div class="destinations_url" data-url={{ destinations_url }}></div>
  <div class="move_url" data-url={{ move_url }}></div>
  <div class="game">
    {% include "chess/secondary/board.html" with columns=8 rows=8 board=board %}
    <div class="sidebar">
      <div class="rules">
        <h3>{{ rule_summary|get_item:"name" }}</h3>
        <p>{{ rule_summary|get_item:"description" }}</p>
      </div>
      <div class="turn">
        <h3>{{ turn|title }}'s Turn</h3>
      </div>
      <div class="history">
        <h3>White</h3>
        <h3>Black</h3>
        {% for item in history %}
          <p class={{item|get_item:'class'}}>
            {{item|get_item:'name'}}
            {% if item|get_item:'image' %}
              <img src="{{item|get_item:'image'}}">
            {% endif %}
          </p>
        {% endfor %}
      </div>
    </div>
  </div>

  <script src="{% static 'js/play_game.js' %}"></script>
  <script src="{% static 'js/board.js' %}"></script>
{% endblock %}
