{% extends 'chess/secondary/piece_card.html' %}
{% load index %}

{% block details %}
<div class='moves'>
  {% for i in '0123'|make_list %}
    <div class="movement">
        <h6 class="card-subtitle">Directions {{ forloop.counter }}</h6>
        <div>
          {% for direction in enums.directions %}
            <div class="form-check">
              {% with move=data.moves|index:i %}
              {% if direction in move.directions %}
                <input data-piece="{{piece}}" data-index="{{i}}" data-key="directions" data-value="{{direction}}" type="checkbox" class="form-check-input" name="{{ piece }}{{ i }}direction" checked>
              {% else %}
                <input data-piece="{{piece}}" data-index="{{i}}" data-key="directions" data-value="{{direction}}" type="checkbox" class="form-check-input" name="{{ piece }}{{ i }}direction">
              {% endif %}
              {% endwith %}
              <label class="form-check-label" for="{{ piece }} {{ direction }}">{{ direction }}</label>
            </div>
          {% endfor %}
        </div>

        <h6 class="card-subtitle"> Movement Rules {{ forloop.counter }}</h6>
        <div>
          {% for movement in enums.movements %}
            <div class="form-check">
              {% with move=data.moves|index:i %}
                {% if movement in move.conditions %}
                  <input data-piece="{{piece}}" data-index="{{i}}" data-key="conditions" data-value="{{movement}}" type="checkbox" class="form-check-input checked" name="{{ piece }}{{ i }}condition" checked>
                {% else %}
                  <input data-piece="{{piece}}" data-index="{{i}}" data-key="conditions" data-value="{{movement}}" type="checkbox" class="form-check-input" name="{{ piece }}{{ i }}condition">
                {% endif %}
              {% endwith %}

              <label class="form-check-label" for="{{ piece }} {{ movement }}">{{ movement }}</label>
            </div>
          {% endfor %}
        </div>

        <h6 class="card-subtitle"> Capture Actions {{ forloop.counter }}</h6>
        <div>
          {% for action in enums.capture_actions %}
            <div class="form-check">
              {% with move=data.moves|index:i %}
                {% if action in move.capture_actions %}
                  <input data-piece="{{piece}}" data-index="{{i}}" data-key="capture_actions" data-value="{{action}}" type="checkbox" class="form-check-input" name="{{ piece }}{{ i }}action" checked>
                {% else %}
                  <input data-piece="{{piece}}" data-index="{{i}}" data-key="capture_actions" data-value="{{action}}" type="checkbox" class="form-check-input" name="{{ piece }}{{ i }}action">
                {% endif %}
              {% endwith %}
              <label class="form-check-label" for="{{ piece }} {{ action }}">{{ action }}</label>
            </div>
          {% endfor %}
        </div>
      </div>
  {% endfor %}
</div>
{% endblock %}