{% extends 'chess/configuration.html' %}
{% load index %}

{% block piece_configuration %}
  <div class='moves'>
    {% for i in '0123'|make_list %}
      <div class="movement">
          <h6 class="card-subtitle">Directions {{ forloop.counter }}</h6>
          <form>
            {% for direction in directions %}
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="{{ piece }} {{ direction }}">
                <label class="form-check-label" for="{{ piece }} {{ direction }}">{{ direction }}</label>
              </div>
            {% endfor %}
          </form>
          <h6 class="card-subtitle"> Movement Rules {{ forloop.counter }}</h6>

          <form>
            {% for movement in movements %}
              <div class="form-check">
                {% with move=data.moves|index:i %}
                  {% if movement in move.conditions %}
                    <input type="checkbox" class="form-check-input checked" id="{{ piece }} {{ movement }}" checked>
                  {% else %}
                    <input type="checkbox" class="form-check-input" id="{{ piece }} {{ movement }}">
                  {% endif %}
                {% endwith %}

                <label class="form-check-label" for="{{ piece }} {{ movement }}">{{ movement }}</label>
              </div>
            {% endfor %}
          </form>

          <h6 class="card-subtitle"> Capture Actions {{ forloop.counter }}</h6>

          <form>
            {% for action in capture_actions %}
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="{{ piece }} {{ action }}">
                <label class="form-check-label" for="{{ piece }} {{ action }}">{{ action }}</label>
              </div>
            {% endfor %}
          </form>
        </div>
    {% endfor %}
  </div>
{% endblock %}